(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var PositivePointArray, negativeHeatmap, negativeLocationData, negativePointArray, positiveGradient, positiveHeatmap, positiveLocationData;

positiveLocationData = [
  {
    location: new google.maps.LatLng(51.511461, -0.0822538),
    weight: 8
  }, {
    location: new google.maps.LatLng(51.511645, -0.081428),
    weight: 2
  }, {
    location: new google.maps.LatLng(51.512086, -0.080687),
    weight: 4
  }, {
    location: new google.maps.LatLng(51.512480, -0.078906),
    weight: 0.8
  }, {
    location: new google.maps.LatLng(51.513060, -0.078349),
    weight: 1
  }
];

negativeLocationData = [
  {
    location: new google.maps.LatLng(51.514362, -0.079676),
    weight: 8
  }, {
    location: new google.maps.LatLng(51.513895, -0.079462),
    weight: 2
  }, {
    location: new google.maps.LatLng(51.513841, -0.078775),
    weight: 4
  }, {
    location: new google.maps.LatLng(51.513547, -0.077337),
    weight: 0.8
  }, {
    location: new google.maps.LatLng(51.514068, -0.078067),
    weight: 1
  }
];

PositivePointArray = new google.maps.MVCArray(positiveLocationData);

positiveHeatmap = new google.maps.visualization.HeatmapLayer({
  data: PositivePointArray
});

negativePointArray = new google.maps.MVCArray(negativeLocationData);

negativeHeatmap = new google.maps.visualization.HeatmapLayer({
  data: negativePointArray
});

positiveGradient = ['rgba(0, 255, 255, 0)', 'rgba(0, 255, 255, 1)', 'rgba(0, 191, 255, 1)', 'rgba(0, 127, 255, 1)', 'rgba(0, 63, 255, 1)', 'rgba(0, 0, 255, 1)', 'rgba(0, 0, 223, 1)', 'rgba(0, 0, 191, 1)', 'rgba(0, 0, 159, 1)', 'rgba(0, 0, 127, 1)', 'rgba(63, 0, 91, 1)', 'rgba(127, 0, 63, 1)', 'rgba(191, 0, 31, 1)', 'rgba(255, 0, 0, 1)'];

positiveHeatmap.set('gradient', positiveGradient);

module.exports.positiveHeatmap = positiveHeatmap;

module.exports.negativeHeatmap = negativeHeatmap;


},{}],2:[function(require,module,exports){
var initialize;

initialize = function() {
  var heatmapModule, map, optionsModule, searchModule, themeModule;
  themeModule = require('../map/theme-module.coffee');
  optionsModule = require('../map/options-module.coffee');
  heatmapModule = require('../map/heatmap-module.coffee');
  searchModule = require('../map/search-module.coffee');
  map = new google.maps.Map(document.getElementById('map-canvas'), optionsModule.mapOptions);
  map.mapTypes.set('map_style', themeModule.styledMap);
  map.setMapTypeId('map_style');
  heatmapModule.positiveHeatmap.setMap(map);
  heatmapModule.negativeHeatmap.setMap(map);
  searchModule.initiatePlaceSearch(map);
};

google.maps.event.addDomListener(window, 'load', initialize);


},{"../map/heatmap-module.coffee":1,"../map/options-module.coffee":3,"../map/search-module.coffee":4,"../map/theme-module.coffee":5}],3:[function(require,module,exports){
var mapOptions;

mapOptions = {
  center: new google.maps.LatLng(51.5068, -0.1225),
  zoom: 13,
  streetViewControl: false,
  panControl: false,
  mapTypeControlOptions: {
    style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
    position: google.maps.ControlPosition.LEFT_TOP,
    mapTypeIds: ['map_style', google.maps.MapTypeId.SATELLITE]
  },
  zoomControlOptions: {
    style: google.maps.ZoomControlStyle.LARGE,
    position: google.maps.ControlPosition.LEFT_CENTER
  }
};

module.exports.mapOptions = mapOptions;


},{}],4:[function(require,module,exports){
var initiateSearch;

initiateSearch = function(map) {
  var autocomplete, infowindow, input, marker;
  input = document.getElementById('txtLocation');
  autocomplete = new google.maps.places.Autocomplete(input);
  infowindow = new google.maps.InfoWindow;
  marker = new google.maps.Marker({
    map: map,
    anchorPoint: new google.maps.Point(0, -29)
  });
  return google.maps.event.addListener(autocomplete, 'place_changed', function() {
    var address, address_parts, place;
    infowindow.close();
    marker.setVisible(false);
    place = autocomplete.getPlace();
    if (!place.geometry) {
      window.alert('Autocomplete\'s returned place contains no geometry');
      return;
    }
    if (place.geometry.viewport) {
      map.fitBounds(place.geometry.viewport);
    } else {
      map.setCenter(place.geometry.location);
      map.setZoom(17);
    }
    marker.setIcon({
      url: place.icon,
      size: new google.maps.Size(71, 71),
      origin: new google.maps.Point(0, 0),
      anchor: new google.maps.Point(17, 34),
      scaledSize: new google.maps.Size(35, 35)
    });
    marker.setPosition(place.geometry.location);
    marker.setVisible(true);
    address = '';
    if (place.address_components) {
      address_parts = place.address_components;
      address = [address_parts[1] && address_parts[1].short_name || '', address_parts[0] && address_parts[0].short_name || '', address_parts[2] && address_parts[2].short_name || ''].join(' ');
    }
    infowindow.setContent(("<div><strong>" + place.name + "</strong><br>") + address);
    infowindow.open(map, marker);
  });
};

module.exports.initiatePlaceSearch = initiateSearch;


},{}],5:[function(require,module,exports){
var styles;

styles = [
  {
    stylers: [
      {
        hue: '#00ffe6'
      }, {
        saturation: -20
      }
    ]
  }, {
    featureType: 'road',
    elementType: 'geometry',
    stylers: [
      {
        lightness: 100
      }, {
        visibility: 'simplified'
      }
    ]
  }, {
    featureType: 'road',
    elementType: 'labels',
    stylers: [
      {
        visibility: 'off'
      }
    ]
  }
];

module.exports.styledMap = new google.maps.StyledMapType(styles, {
  name: 'Sentiment Map'
});


},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxoZWF0bWFwLW1vZHVsZS5jb2ZmZWUiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxtYXAtbWFpbi5jb2ZmZWUiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxvcHRpb25zLW1vZHVsZS5jb2ZmZWUiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxzZWFyY2gtbW9kdWxlLmNvZmZlZSIsIkM6XFxVc2Vyc1xcYWxpY2lhLnN5a2VzXFxEcm9wYm94XFxDb2RpbmdcXE5vZGVqc1xcdHdpdHRlci1zZW50aW1lbnQtdmlzdWFsaXNhdGlvblxcc291cmNlXFxzY3JpcHRzXFxtYXBcXHRoZW1lLW1vZHVsZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNFQSxJQUFBOztBQUFBLG9CQUFBLEdBQXVCO0VBQ3JCO0lBQ0UsUUFBQSxFQUFjLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLENBQXFCLFNBQXJCLEVBQWdDLENBQUMsU0FBakMsQ0FEaEI7SUFFRSxNQUFBLEVBQVEsQ0FGVjtHQURxQixFQUtyQjtJ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O0FBWGU7O0FBNkNqQixNQUFNLENBQUMsT0FBTyxDQUFDLG1CQUFmLEdBQXFDOzs7O0FDM0NyQyxJQUFBOztBQUFBLE1BQUEsR0FBUztFQUNQO0lBQUUsT0FBQSxFQUFTO01BQ1Q7UUFBRSxHQUFBLEVBQUssU0FBUDtPQURTLEVBRVQ7UUFBRSxVQUFBLEVBQVksQ0FBQyxFQUFmO09BRlM7S0FBWDtHQURPLEVBS1A7SUFDRSxXQUFBLEVBQWEsTUFEZjtJQUVFLFdBQUEsRUFBYSxVQUZmO0lBR0UsT0FBQSxFQUFTO01BQ1A7UUFBRSxTQUFBLEVBQVcsR0FBYjtPQURPLEVBRVA7UUFBRSxVQUFBLEVBQVksWUFBZDtPQUZPO0tBSFg7R0FMTyxFQWFQO0lBQ0UsV0FBQSxFQUFhLE1BRGY7SUFFRSxXQUFBLEVBQWEsUUFGZjtJQUdFLE9BQUEsRUFBUztNQUFFO1FBQUUsVUFBQSxFQUFZLEtBQWQ7T0FBRjtLQUhYO0dBYk87OztBQW9CVCxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQWYsR0FBK0IsSUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWIsQ0FBNEIsTUFBNUIsRUFDN0I7RUFBQSxJQUFBLEVBQU0sZUFBTjtDQUQ2QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcclxuI1NhbXBsZSBoZWF0IG1hcCBkYXRhXHJcbnBvc2l0aXZlTG9jYXRpb25EYXRhID0gW1xyXG4gIHtcclxuICAgIGxvY2F0aW9uOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTExNDYxLCAtMC4wODIyNTM4KVxyXG4gICAgd2VpZ2h0OiA4XHJcbiAgfVxyXG4gIHtcclxuICAgIGxvY2F0aW9uOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTExNjQ1LCAtMC4wODE0MjgpXHJcbiAgICB3ZWlnaHQ6IDJcclxuICB9XHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTIwODYsIC0wLjA4MDY4NylcclxuICAgIHdlaWdodDogNFxyXG4gIH1cclxuICB7XHJcbiAgICBsb2NhdGlvbjogbmV3IChnb29nbGUubWFwcy5MYXRMbmcpKDUxLjUxMjQ4MCwgLTAuMDc4OTA2KVxyXG4gICAgd2VpZ2h0OiAwLjhcclxuICB9XHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTMwNjAsIC0wLjA3ODM0OSlcclxuICAgIHdlaWdodDogMVxyXG4gIH1cclxuXVxyXG5cclxubmVnYXRpdmVMb2NhdGlvbkRhdGEgPSBbXHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTQzNjIsIC0wLjA3OTY3NilcclxuICAgIHdlaWdodDogOFxyXG4gIH1cclxuICB7XHJcbiAgICBsb2NhdGlvbjogbmV3IChnb29nbGUubWFwcy5MYXRMbmcpKDUxLjUxMzg5NSwgLTAuMDc5NDYyKVxyXG4gICAgd2VpZ2h0OiAyXHJcbiAgfVxyXG4gIHtcclxuICAgIGxvY2F0aW9uOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTEzODQxLCAtMC4wNzg3NzUpXHJcbiAgICB3ZWlnaHQ6IDRcclxuICB9XHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTM1NDcsIC0wLjA3NzMzNylcclxuICAgIHdlaWdodDogMC44XHJcbiAgfVxyXG4gIHtcclxuICAgIGxvY2F0aW9uOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTE0MDY4LCAtMC4wNzgwNjcpXHJcbiAgICB3ZWlnaHQ6IDFcclxuICB9XHJcbl1cclxuXHJcbiMgQXBwbHkgaGVhdCBtYXAgdG8gbWFwXHJcblBvc2l0aXZlUG9pbnRBcnJheSA9IG5ldyAoZ29vZ2xlLm1hcHMuTVZDQXJyYXkpKHBvc2l0aXZlTG9jYXRpb25EYXRhKVxyXG5wb3NpdGl2ZUhlYXRtYXAgPSBuZXcgKGdvb2dsZS5tYXBzLnZpc3VhbGl6YXRpb24uSGVhdG1hcExheWVyKShkYXRhOiBQb3NpdGl2ZVBvaW50QXJyYXkpXHJcblxyXG5uZWdhdGl2ZVBvaW50QXJyYXkgPSBuZXcgKGdvb2dsZS5tYXBzLk1WQ0FycmF5KShuZWdhdGl2ZUxvY2F0aW9uRGF0YSlcclxubmVnYXRpdmVIZWF0bWFwID0gbmV3IChnb29nbGUubWFwcy52aXN1YWxpemF0aW9uLkhlYXRtYXBMYXllcikoZGF0YTogbmVnYXRpdmVQb2ludEFycmF5KVxyXG5cclxuI1NldCBncmFkaWVudFxyXG5wb3NpdGl2ZUdyYWRpZW50ID0gW1xyXG4gICdyZ2JhKDAsIDI1NSwgMjU1LCAwKSdcclxuICAncmdiYSgwLCAyNTUsIDI1NSwgMSknXHJcbiAgJ3JnYmEoMCwgMTkxLCAyNTUsIDEpJ1xyXG4gICdyZ2JhKDAsIDEyNywgMjU1LCAxKSdcclxuICAncmdiYSgwLCA2MywgMjU1LCAxKSdcclxuICAncmdiYSgwLCAwLCAyNTUsIDEpJ1xyXG4gICdyZ2JhKDAsIDAsIDIyMywgMSknXHJcbiAgJ3JnYmEoMCwgMCwgMTkxLCAxKSdcclxuICAncmdiYSgwLCAwLCAxNTksIDEpJ1xyXG4gICdyZ2JhKDAsIDAsIDEyNywgMSknXHJcbiAgJ3JnYmEoNjMsIDAsIDkxLCAxKSdcclxuICAncmdiYSgxMjcsIDAsIDYzLCAxKSdcclxuICAncmdiYSgxOTEsIDAsIDMxLCAxKSdcclxuICAncmdiYSgyNTUsIDAsIDAsIDEpJ1xyXG5dXHJcbnBvc2l0aXZlSGVhdG1hcC5zZXQgJ2dyYWRpZW50JywgcG9zaXRpdmVHcmFkaWVudFxyXG5cclxubW9kdWxlLmV4cG9ydHMucG9zaXRpdmVIZWF0bWFwID0gcG9zaXRpdmVIZWF0bWFwXHJcbm1vZHVsZS5leHBvcnRzLm5lZ2F0aXZlSGVhdG1hcCA9IG5lZ2F0aXZlSGVhdG1hcCIsImluaXRpYWxpemUgPSAtPlxyXG5cclxuICAjIEluY2x1ZGUgYWxsIG1hcCBjb21wb25lbnRzXHJcbiAgdGhlbWVNb2R1bGUgICA9IHJlcXVpcmUoJy4uL21hcC90aGVtZS1tb2R1bGUuY29mZmVlJylcclxuICBvcHRpb25zTW9kdWxlID0gcmVxdWlyZSgnLi4vbWFwL29wdGlvbnMtbW9kdWxlLmNvZmZlZScpXHJcbiAgaGVhdG1hcE1vZHVsZSA9IHJlcXVpcmUoJy4uL21hcC9oZWF0bWFwLW1vZHVsZS5jb2ZmZWUnKVxyXG4gIHNlYXJjaE1vZHVsZSAgPSByZXF1aXJlKCcuLi9tYXAvc2VhcmNoLW1vZHVsZS5jb2ZmZWUnKVxyXG5cclxuICAjIEdldCB0aGUgbWFwLCBhbmQgc2V0IHRoZSBtYXAgb3B0aW9uc1xyXG4gIG1hcCA9IG5ldyAoZ29vZ2xlLm1hcHMuTWFwKShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWNhbnZhcycpLFxcXHJcbiAgICBvcHRpb25zTW9kdWxlLm1hcE9wdGlvbnMpXHJcblxyXG4gICMgQXBwbHkgbWFwIHRoZW1lXHJcbiAgbWFwLm1hcFR5cGVzLnNldCAnbWFwX3N0eWxlJywgdGhlbWVNb2R1bGUuc3R5bGVkTWFwXHJcbiAgbWFwLnNldE1hcFR5cGVJZCAnbWFwX3N0eWxlJ1xyXG5cclxuICAjIEFwcGx5IGhlYXQgbWFwXHJcbiAgaGVhdG1hcE1vZHVsZS5wb3NpdGl2ZUhlYXRtYXAuc2V0TWFwIG1hcFxyXG4gIGhlYXRtYXBNb2R1bGUubmVnYXRpdmVIZWF0bWFwLnNldE1hcCBtYXBcclxuXHJcbiAgIyBJbml0aWF0ZSB0aGUgcGxhY2VzIGF1dG8tY29tcGxldGUgYW5kIG1hcCBzZWFyY2hcclxuICBzZWFyY2hNb2R1bGUuaW5pdGlhdGVQbGFjZVNlYXJjaCBtYXBcclxuXHJcbiAgcmV0dXJuXHJcblxyXG5nb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lciB3aW5kb3csICdsb2FkJywgaW5pdGlhbGl6ZVxyXG5cclxuIiwibWFwT3B0aW9ucyA9XHJcbiAgY2VudGVyOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTA2OCwgLTAuMTIyNSlcclxuICB6b29tOiAxM1xyXG4gIHN0cmVldFZpZXdDb250cm9sIDogZmFsc2VcclxuICBwYW5Db250cm9sOiBmYWxzZVxyXG4gIG1hcFR5cGVDb250cm9sT3B0aW9uczpcclxuICAgIHN0eWxlOiBnb29nbGUubWFwcy5NYXBUeXBlQ29udHJvbFN0eWxlLkhPUklaT05UQUxfQkFSXHJcbiAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfVE9QXHJcbiAgICBtYXBUeXBlSWRzOiBbXHJcbiAgICAgICdtYXBfc3R5bGUnXHJcbiAgICAgIGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5TQVRFTExJVEVcclxuICAgIF1cclxuICB6b29tQ29udHJvbE9wdGlvbnM6IHtcclxuICAgIHN0eWxlOiBnb29nbGUubWFwcy5ab29tQ29udHJvbFN0eWxlLkxBUkdFXHJcbiAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfQ0VOVEVSXHJcbiAgfVxyXG5cclxubW9kdWxlLmV4cG9ydHMubWFwT3B0aW9ucyA9IG1hcE9wdGlvbnMiLCJcclxuaW5pdGlhdGVTZWFyY2ggPSAobWFwKSAtPlxyXG5cclxuICAjIENvbmZpZ3VyZSBhdXRvY29tcGxldGUgYW5kIG1hcCBzZWFyY2hcclxuICBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eHRMb2NhdGlvbicpXHJcbiAgYXV0b2NvbXBsZXRlID0gbmV3IChnb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlKShpbnB1dClcclxuICBpbmZvd2luZG93ID0gbmV3IChnb29nbGUubWFwcy5JbmZvV2luZG93KVxyXG5cclxuICAjIFByZXBhcmUgZm9yIHB1dHRpbmcgbWFya2VycyBvbiBtYXBcclxuICBtYXJrZXIgPSBuZXcgKGdvb2dsZS5tYXBzLk1hcmtlcikoXHJcbiAgICBtYXA6IG1hcFxyXG4gICAgYW5jaG9yUG9pbnQ6IG5ldyAoZ29vZ2xlLm1hcHMuUG9pbnQpKDAsIC0yOSkpXHJcbiAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIgYXV0b2NvbXBsZXRlLCAncGxhY2VfY2hhbmdlZCcsIC0+XHJcbiAgICBpbmZvd2luZG93LmNsb3NlKClcclxuICAgIG1hcmtlci5zZXRWaXNpYmxlIGZhbHNlXHJcbiAgICBwbGFjZSA9IGF1dG9jb21wbGV0ZS5nZXRQbGFjZSgpXHJcbiAgICBpZiAhcGxhY2UuZ2VvbWV0cnlcclxuICAgICAgd2luZG93LmFsZXJ0ICdBdXRvY29tcGxldGVcXCdzIHJldHVybmVkIHBsYWNlIGNvbnRhaW5zIG5vIGdlb21ldHJ5J1xyXG4gICAgICByZXR1cm5cclxuXHJcbiAgICAjIElmIHRoZSBwbGFjZSBoYXMgYSBnZW9tZXRyeSwgdGhlbiBkaXNwbGF5IG1hcmtlciBvbiB0aGUgbWFwLlxyXG4gICAgaWYgcGxhY2UuZ2VvbWV0cnkudmlld3BvcnRcclxuICAgICAgbWFwLmZpdEJvdW5kcyBwbGFjZS5nZW9tZXRyeS52aWV3cG9ydFxyXG4gICAgZWxzZVxyXG4gICAgICBtYXAuc2V0Q2VudGVyIHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uXHJcbiAgICAgIG1hcC5zZXRab29tIDE3ICMgV2h5IDE3PyBCZWNhdXNlIGl0IGxvb2tzIGdvb2QuXHJcbiAgICBtYXJrZXIuc2V0SWNvblxyXG4gICAgICB1cmw6IHBsYWNlLmljb25cclxuICAgICAgc2l6ZTogbmV3IChnb29nbGUubWFwcy5TaXplKSg3MSwgNzEpXHJcbiAgICAgIG9yaWdpbjogbmV3IChnb29nbGUubWFwcy5Qb2ludCkoMCwgMClcclxuICAgICAgYW5jaG9yOiBuZXcgKGdvb2dsZS5tYXBzLlBvaW50KSgxNywgMzQpXHJcbiAgICAgIHNjYWxlZFNpemU6IG5ldyAoZ29vZ2xlLm1hcHMuU2l6ZSkoMzUsIDM1KVxyXG4gICAgbWFya2VyLnNldFBvc2l0aW9uIHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uXHJcbiAgICBtYXJrZXIuc2V0VmlzaWJsZSB0cnVlXHJcbiAgICBhZGRyZXNzID0gJydcclxuICAgIGlmIHBsYWNlLmFkZHJlc3NfY29tcG9uZW50c1xyXG4gICAgICBhZGRyZXNzX3BhcnRzID0gcGxhY2UuYWRkcmVzc19jb21wb25lbnRzXHJcbiAgICAgIGFkZHJlc3MgPSBbXHJcbiAgICAgICAgYWRkcmVzc19wYXJ0c1sxXSBhbmQgYWRkcmVzc19wYXJ0c1sxXS5zaG9ydF9uYW1lIG9yICcnXHJcbiAgICAgICAgYWRkcmVzc19wYXJ0c1swXSBhbmQgYWRkcmVzc19wYXJ0c1swXS5zaG9ydF9uYW1lIG9yICcnXHJcbiAgICAgICAgYWRkcmVzc19wYXJ0c1syXSBhbmQgYWRkcmVzc19wYXJ0c1syXS5zaG9ydF9uYW1lIG9yICcnXHJcbiAgICAgIF0uam9pbignICcpXHJcbiAgICBpbmZvd2luZG93LnNldENvbnRlbnQgXCI8ZGl2PjxzdHJvbmc+I3twbGFjZS5uYW1lfTwvc3Ryb25nPjxicj5cIiArIGFkZHJlc3NcclxuICAgIGluZm93aW5kb3cub3BlbiBtYXAsIG1hcmtlclxyXG4gICAgcmV0dXJuXHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0aWF0ZVBsYWNlU2VhcmNoID0gaW5pdGlhdGVTZWFyY2giLCJcclxuXHJcbiMgQXJyYXkgb2Ygc3R5bGVzLlxyXG5zdHlsZXMgPSBbXHJcbiAgeyBzdHlsZXJzOiBbXHJcbiAgICB7IGh1ZTogJyMwMGZmZTYnIH1cclxuICAgIHsgc2F0dXJhdGlvbjogLTIwIH1cclxuICBdIH1cclxuICB7XHJcbiAgICBmZWF0dXJlVHlwZTogJ3JvYWQnXHJcbiAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5J1xyXG4gICAgc3R5bGVyczogW1xyXG4gICAgICB7IGxpZ2h0bmVzczogMTAwIH1cclxuICAgICAgeyB2aXNpYmlsaXR5OiAnc2ltcGxpZmllZCcgfVxyXG4gICAgXVxyXG4gIH1cclxuICB7XHJcbiAgICBmZWF0dXJlVHlwZTogJ3JvYWQnXHJcbiAgICBlbGVtZW50VHlwZTogJ2xhYmVscydcclxuICAgIHN0eWxlcnM6IFsgeyB2aXNpYmlsaXR5OiAnb2ZmJyB9IF1cclxuICB9XHJcbl1cclxuXHJcbm1vZHVsZS5leHBvcnRzLnN0eWxlZE1hcCA9IG5ldyAoZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZSkoc3R5bGVzLFxyXG4gIG5hbWU6ICdTZW50aW1lbnQgTWFwJ1xyXG4pIl19
