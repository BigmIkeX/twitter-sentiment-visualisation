(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var gradient, heatmap, heatmap2, locationData1, locationData2, pointArray, pointArray2;

locationData1 = [
  {
    location: new google.maps.LatLng(51.511461, -0.0822538),
    weight: 8
  }, {
    location: new google.maps.LatLng(51.511645, -0.081428),
    weight: 2
  }, {
    location: new google.maps.LatLng(51.512086, -0.080687),
    weight: 4
  }, {
    location: new google.maps.LatLng(51.512480, -0.078906),
    weight: 0.8
  }, {
    location: new google.maps.LatLng(51.513060, -0.078349),
    weight: 1
  }
];

locationData2 = [
  {
    location: new google.maps.LatLng(51.514362, -0.079676),
    weight: 8
  }, {
    location: new google.maps.LatLng(51.513895, -0.079462),
    weight: 2
  }, {
    location: new google.maps.LatLng(51.513841, -0.078775),
    weight: 4
  }, {
    location: new google.maps.LatLng(51.513547, -0.077337),
    weight: 0.8
  }, {
    location: new google.maps.LatLng(51.514068, -0.078067),
    weight: 1
  }
];

pointArray = new google.maps.MVCArray(locationData1);

heatmap = new google.maps.visualization.HeatmapLayer({
  data: pointArray
});

pointArray2 = new google.maps.MVCArray(locationData2);

heatmap2 = new google.maps.visualization.HeatmapLayer({
  data: pointArray2
});

gradient = ['rgba(0, 255, 255, 0)', 'rgba(0, 255, 255, 1)', 'rgba(0, 191, 255, 1)', 'rgba(0, 127, 255, 1)', 'rgba(0, 63, 255, 1)', 'rgba(0, 0, 255, 1)', 'rgba(0, 0, 223, 1)', 'rgba(0, 0, 191, 1)', 'rgba(0, 0, 159, 1)', 'rgba(0, 0, 127, 1)', 'rgba(63, 0, 91, 1)', 'rgba(127, 0, 63, 1)', 'rgba(191, 0, 31, 1)', 'rgba(255, 0, 0, 1)'];

heatmap.set('gradient', gradient);

module.exports.positiveHeatmap = heatmap;

module.exports.negativeHeatmap = heatmap2;


},{}],2:[function(require,module,exports){
var initialize;

initialize = function() {
  var heatmapModule, map, optionsModule, searchModule, themeModule;
  themeModule = require('../map/theme-module.coffee');
  optionsModule = require('../map/options-module.coffee');
  heatmapModule = require('../map/heatmap-module.coffee');
  searchModule = require('../map/search-module.coffee');
  map = new google.maps.Map(document.getElementById('map-canvas'), optionsModule.mapOptions);
  map.mapTypes.set('map_style', themeModule.styledMap);
  map.setMapTypeId('map_style');
  heatmapModule.positiveHeatmap.setMap(map);
  heatmapModule.negativeHeatmap.setMap(map);
  searchModule.initiatePlaceSearch(map);
};

google.maps.event.addDomListener(window, 'load', initialize);


},{"../map/heatmap-module.coffee":1,"../map/options-module.coffee":3,"../map/search-module.coffee":4,"../map/theme-module.coffee":5}],3:[function(require,module,exports){
var mapOptions;

mapOptions = {
  center: new google.maps.LatLng(51.5068, -0.1225),
  zoom: 13,
  streetViewControl: false,
  panControl: false,
  mapTypeControlOptions: {
    style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
    position: google.maps.ControlPosition.LEFT_TOP,
    mapTypeIds: ['map_style', google.maps.MapTypeId.SATELLITE]
  },
  zoomControlOptions: {
    style: google.maps.ZoomControlStyle.LARGE,
    position: google.maps.ControlPosition.LEFT_CENTER
  }
};

module.exports.mapOptions = mapOptions;


},{}],4:[function(require,module,exports){
var initiateSearch;

initiateSearch = function(map) {
  var autocomplete, infowindow, input, marker;
  input = document.getElementById('txtLocation');
  autocomplete = new google.maps.places.Autocomplete(input);
  infowindow = new google.maps.InfoWindow;
  marker = new google.maps.Marker({
    map: map,
    anchorPoint: new google.maps.Point(0, -29)
  });
  return google.maps.event.addListener(autocomplete, 'place_changed', function() {
    var address, address_parts, place;
    infowindow.close();
    marker.setVisible(false);
    place = autocomplete.getPlace();
    if (!place.geometry) {
      window.alert('Autocomplete\'s returned place contains no geometry');
      return;
    }
    if (place.geometry.viewport) {
      map.fitBounds(place.geometry.viewport);
    } else {
      map.setCenter(place.geometry.location);
      map.setZoom(17);
    }
    marker.setIcon({
      url: place.icon,
      size: new google.maps.Size(71, 71),
      origin: new google.maps.Point(0, 0),
      anchor: new google.maps.Point(17, 34),
      scaledSize: new google.maps.Size(35, 35)
    });
    marker.setPosition(place.geometry.location);
    marker.setVisible(true);
    address = '';
    if (place.address_components) {
      address_parts = place.address_components;
      address = [address_parts[1] && address_parts[1].short_name || '', address_parts[0] && address_parts[0].short_name || '', address_parts[2] && address_parts[2].short_name || ''].join(' ');
    }
    infowindow.setContent(("<div><strong>" + place.name + "</strong><br>") + address);
    infowindow.open(map, marker);
  });
};

module.exports.initiatePlaceSearch = initiateSearch;


},{}],5:[function(require,module,exports){
var styles;

styles = [
  {
    stylers: [
      {
        hue: '#00ffe6'
      }, {
        saturation: -20
      }
    ]
  }, {
    featureType: 'road',
    elementType: 'geometry',
    stylers: [
      {
        lightness: 100
      }, {
        visibility: 'simplified'
      }
    ]
  }, {
    featureType: 'road',
    elementType: 'labels',
    stylers: [
      {
        visibility: 'off'
      }
    ]
  }
];

module.exports.styledMap = new google.maps.StyledMapType(styles, {
  name: 'Sentiment Map'
});


},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxoZWF0bWFwLW1vZHVsZS5jb2ZmZWUiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxtYXAtbWFpbi5jb2ZmZWUiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxvcHRpb25zLW1vZHVsZS5jb2ZmZWUiLCJDOlxcVXNlcnNcXGFsaWNpYS5zeWtlc1xcRHJvcGJveFxcQ29kaW5nXFxOb2RlanNcXHR3aXR0ZXItc2VudGltZW50LXZpc3VhbGlzYXRpb25cXHNvdXJjZVxcc2NyaXB0c1xcbWFwXFxzZWFyY2gtbW9kdWxlLmNvZmZlZSIsIkM6XFxVc2Vyc1xcYWxpY2lhLnN5a2VzXFxEcm9wYm94XFxDb2RpbmdcXE5vZGVqc1xcdHdpdHRlci1zZW50aW1lbnQtdmlzdWFsaXNhdGlvblxcc291cmNlXFxzY3JpcHRzXFxtYXBcXHRoZW1lLW1vZHVsZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNFQSxJQUFBOztBQUFBLGFBQUEsR0FBZ0I7RUFDZDtJQUNFLFFBQUEsRUFBYyxJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBYixDQUFxQixTQUFyQixFQUFnQyxDQUFDLFNBQWpDLENBRGhCO0lBRUUsTUFBQSxFQUFRLENBRlY7R0FEYyxFQUtkO0lBQ0UsUUFBQSxFQUFjLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLENBQXFCLFNBQXJCLEVBQWdDLENBQUMsUUFBakMsQ0FEaEI7SUFFRSxNQUFBLEVBQVEsQ0FGVjtHQUxjLEVBU2Q7SUFDRSxRQUFBLEVBQWMsSUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQWIsQ0FBcUIsU0FBckIsRUFBZ0MsQ0FBQyxRQUFqQyxDQURoQjtJQUVFLE1BQUEsRUFBUSxDQUZWO0dBVGMsRUFhZDtJQUNFLFFBQUEsRUFBYyxJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBYixDQUFxQixTQUFyQixFQUFnQyxDQUFDLFFBQWpDLENBRGhCO0lBRUUsTUFBQSxFQUFRLEdBRlY7R0FiYyxFQWlCZDtJQUNFLFFBQUEsRUFBYyxJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBYixDQUFxQixTQUFyQixFQUFnQyxDQUFDLFFBQWpDLENBRGhCO0lBRUUsTUFBQSxFQUFRLENBRlY7R0FqQmM7OztBQXVCaEIsYUFBQSxHQUFnQjtFQUNkO0lBQ0UsUUFBQSxFQUFjLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLENBQXFCLFNBQXJCLEVBQWdDLENBQUMsUUFBakMsQ0FEaEI7SUFFRSxNQUFBLEVBQVEsQ0FGVjtHQURjLEVBS2Q7SUFDRSxRQUFBLEVBQWMsSUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQWIsQ0FBcUIsU0FBckIsRUFBZ0MsQ0FBQyxRQUFqQyxDQURoQjtJQUVFLE1BQUEsRUFBUSxDQUZWO0dBTGMsRUFTZDtJQUNFLFFBQUEsRUFBYyxJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBYixDQUFxQixTQUFyQixFQUFnQyxDQUFDLFFBQWpDLENBRGhCO0lBRUUsTUFBQSxFQUFRLENBRlY7R0FUYyxFQWFkO0lBQ0UsUUFBQSxFQUFjLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLENBQXFCLFNBQXJCLEVBQWdDLENBQUMsUUFBakMsQ0FEaEI7SUFFRSxNQUFBLEVBQVEsR0FGVjtHQWJjLEVBaUJkO0lBQ0UsUUFBQSxFQUFjLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLENBQXFCLFNBQXJCLEVBQWdDLENBQUMsUUFBakMsQ0FEaEI7SUFFRSxNQUFBLEVBQVEsQ0FGVjtHQWpCYzs7O0FBMEJoQixVQUFBLEdBQWlCLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFiLENBQXVCLGFBQXZCOztBQUNqQixPQUFBLEdBQWMsSUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUEzQixDQUF5QztFQUFBLElBQUEsRUFBTSxVQUFOO0NBQXpDOztBQUVkLFdBQUEsR0FBa0IsSUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQWIsQ0FBdUIsYUFBdkI7O0FBQ2xCLFFBQUEsR0FBZSxJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQTNCLENBQXlDO0VBQUEsSUFBQSxFQUFNLFdBQU47Q0FBekM7O0FBR2YsUUFBQSxHQUFXLENBQ1Qsc0JBRFMsRUFFVCxzQkFGUyxFQUdULHNCQUhTLEVBSVQsc0JBSlMsRUFLVCxxQkFMUyxFQU1ULG9CQU5TLEVBT1Qsb0JBUFMsRUFRVCxvQkFSUyxFQVNULG9CQVRTLEVBVVQsb0JBVlMsRUFXVCxvQkFYUyxFQVlULHFCQVpTLEVBYVQscUJBYlMsRUFjVCxvQkFkUzs7QUFnQlgsT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFaLEVBQXdCLFFBQXhCOztBQUdBLE1BQU0sQ0FBQyxPQUFPLENBQUMsZUFBZixHQUFpQzs7QUFDakMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxlQUFmLEdBQWlDOzs7O0FDNUVqQyxJQUFBOztBQUFBLFVBQUEsR0FBYSxTQUFBO0FBR1gsTUFBQTtFQUFBLFdBQUEsR0FBZ0IsT0FBQSxDQUFRLDRCQUFSO0VBQ2hCLGFBQUEsR0FBZ0IsT0FBQSxDQUFRLDhCQUFSO0VBQ2hCLGFBQUEsR0FBZ0IsT0FBQSxDQUFRLDhCQUFSO0VBQ2hCLFlBQUEsR0FBZ0IsT0FBQSxDQUFRLDZCQUFSO0VBR2hCLEdBQUEsR0FBVSxJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBYixDQUFrQixRQUFRLENBQUMsY0FBVCxDQUF3QixZQUF4QixDQUFsQixFQUNSLGFBQWEsQ0FBQyxVQUROO0VBSVYsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFiLENBQWlCLFdBQWpCLEVBQThCLFdBQVcsQ0FBQyxTQUExQztFQUNBLEdBQUcsQ0FBQyxZQUFKLENBQWlCLFdBQWpCO0VBR0EsYUFBYSxDQUFDLGVBQWUsQ0FBQyxNQUE5QixDQUFxQyxHQUFyQztFQUNBLGFBQWEsQ0FBQyxlQUFlLENBQUMsTUFBOUIsQ0FBcUMsR0FBckM7RUFJQSxZQUFZLENBQUMsbUJBQWIsQ0FBaUMsR0FBakM7QUF0Qlc7O0FBMEJiLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWxCLENBQWlDLE1BQWpDLEVBQXlDLE1BQXpDLEVBQWlELFVBQWpEOzs7O0FDNUJBLElBQUE7O0FBQUEsVUFBQSxHQUNFO0VBQUEsTUFBQSxFQUFZLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLENBQXFCLE9BQXJCLEVBQThCLENBQUMsTUFBL0IsQ0FBWjtFQUNBLElBQUEsRUFBTSxFQUROO0VBRUEsaUJBQUEsRUFBb0IsS0FGcEI7RUFHQSxVQUFBLEVBQVksS0FIWjtFQUlBLHFCQUFBLEVBQ0U7SUFBQSxLQUFBLEVBQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxjQUF2QztJQUNBLFFBQUEsRUFBVSxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUR0QztJQUVBLFVBQUEsRUFBWSxDQUNWLFdBRFUsRUFFVixNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUZaLENBRlo7R0FMRjtFQVdBLGtCQUFBLEVBQW9CO0lBQ2xCLEtBQUEsRUFBTyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBRGxCO0lBRWxCLFFBQUEsRUFBVSxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUZwQjtHQVhwQjs7O0FBZ0JGLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBZixHQUE0Qjs7OztBQ2hCNUIsSUFBQTs7QUFBQSxjQUFBLEdBQWlCLFNBQUMsR0FBRDtBQUVmLE1BQUE7RUFBQSxLQUFBLEdBQVEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsYUFBeEI7RUFDUixZQUFBLEdBQW1CLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBcEIsQ0FBa0MsS0FBbEM7RUFDbkIsVUFBQSxHQUFhLElBQUssTUFBTSxDQUFDLElBQUksQ0FBQztFQUc5QixNQUFBLEdBQWEsSUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQWIsQ0FDWDtJQUFBLEdBQUEsRUFBSyxHQUFMO0lBQ0EsV0FBQSxFQUFpQixJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixDQUFvQixDQUFwQixFQUF1QixDQUFDLEVBQXhCLENBRGpCO0dBRFc7U0FHYixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFsQixDQUE4QixZQUE5QixFQUE0QyxlQUE1QyxFQUE2RCxTQUFBO0FBQzNELFFBQUE7SUFBQSxVQUFVLENBQUMsS0FBWCxDQUFBO0lBQ0EsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsS0FBbEI7SUFDQSxLQUFBLEdBQVEsWUFBWSxDQUFDLFFBQWIsQ0FBQTtJQUNSLElBQUcsQ0FBQyxLQUFLLENBQUMsUUFBVjtNQUNFLE1BQU0sQ0FBQyxLQUFQLENBQWEscURBQWI7QUFDQSxhQUZGOztJQUtBLElBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFsQjtNQUNFLEdBQUcsQ0FBQyxTQUFKLENBQWMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUE3QixFQURGO0tBQUEsTUFBQTtNQUdFLEdBQUcsQ0FBQyxTQUFKLENBQWMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUE3QjtNQUNBLEdBQUcsQ0FBQyxPQUFKLENBQVksRUFBWixFQUpGOztJQUtBLE1BQU0sQ0FBQyxPQUFQLENBQ0U7TUFBQSxHQUFBLEVBQUssS0FBSyxDQUFDLElBQVg7TUFDQSxJQUFBLEVBQVUsSUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQWIsQ0FBbUIsRUFBbkIsRUFBdUIsRUFBdkIsQ0FEVjtNQUVBLE1BQUEsRUFBWSxJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixDQUFvQixDQUFwQixFQUF1QixDQUF2QixDQUZaO01BR0EsTUFBQSxFQUFZLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFiLENBQW9CLEVBQXBCLEVBQXdCLEVBQXhCLENBSFo7TUFJQSxVQUFBLEVBQWdCLElBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFiLENBQW1CLEVBQW5CLEVBQXVCLEVBQXZCLENBSmhCO0tBREY7SUFNQSxNQUFNLENBQUMsV0FBUCxDQUFtQixLQUFLLENBQUMsUUFBUSxDQUFDLFFBQWxDO0lBQ0EsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsSUFBbEI7SUFDQSxPQUFBLEdBQVU7SUFDVixJQUFHLEtBQUssQ0FBQyxrQkFBVDtNQUNFLGFBQUEsR0FBZ0IsS0FBSyxDQUFDO01BQ3RCLE9BQUEsR0FBVSxDQUNSLGFBQWMsQ0FBQSxDQUFBLENBQWQsSUFBcUIsYUFBYyxDQUFBLENBQUEsQ0FBRSxDQUFDLFVBQXRDLElBQW9ELEVBRDVDLEVBRVIsYUFBYyxDQUFBLENBQUEsQ0FBZCxJQUFxQixhQUFjLENBQUEsQ0FBQSxDQUFFLENBQUMsVUFBdEMsSUFBb0QsRUFGNUMsRUFHUixhQUFjLENBQUEsQ0FBQSxDQUFkLElBQXFCLGFBQWMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxVQUF0QyxJQUFvRCxFQUg1QyxDQUlULENBQUMsSUFKUSxDQUlILEdBSkcsRUFGWjs7SUFPQSxVQUFVLENBQUMsVUFBWCxDQUFzQixDQUFBLGVBQUEsR0FBZ0IsS0FBSyxDQUFDLElBQXRCLEdBQTJCLGVBQTNCLENBQUEsR0FBNEMsT0FBbEU7SUFDQSxVQUFVLENBQUMsSUFBWCxDQUFnQixHQUFoQixFQUFxQixNQUFyQjtFQS9CMkQsQ0FBN0Q7QUFWZTs7QUE0Q2pCLE1BQU0sQ0FBQyxPQUFPLENBQUMsbUJBQWYsR0FBcUM7Ozs7QUMxQ3JDLElBQUE7O0FBQUEsTUFBQSxHQUFTO0VBQ1A7SUFBRSxPQUFBLEVBQVM7TUFDVDtRQUFFLEdBQUEsRUFBSyxTQUFQO09BRFMsRUFFVDtRQUFFLFVBQUEsRUFBWSxDQUFDLEVBQWY7T0FGUztLQUFYO0dBRE8sRUFLUDtJQUNFLFdBQUEsRUFBYSxNQURmO0lBRUUsV0FBQSxFQUFhLFVBRmY7SUFHRSxPQUFBLEVBQVM7TUFDUDtRQUFFLFNBQUEsRUFBVyxHQUFiO09BRE8sRUFFUDtRQUFFLFVBQUEsRUFBWSxZQUFkO09BRk87S0FIWDtHQUxPLEVBYVA7SUFDRSxXQUFBLEVBQWEsTUFEZjtJQUVFLFdBQUEsRUFBYSxRQUZmO0lBR0UsT0FBQSxFQUFTO01BQUU7UUFBRSxVQUFBLEVBQVksS0FBZDtPQUFGO0tBSFg7R0FiTzs7O0FBb0JULE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBZixHQUErQixJQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYixDQUE0QixNQUE1QixFQUFvQztFQUFBLElBQUEsRUFBTSxlQUFOO0NBQXBDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxyXG4jSGVhdCBtYXAgZGF0YVxyXG5sb2NhdGlvbkRhdGExID0gW1xyXG4gIHtcclxuICAgIGxvY2F0aW9uOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTExNDYxLCAtMC4wODIyNTM4KVxyXG4gICAgd2VpZ2h0OiA4XHJcbiAgfVxyXG4gIHtcclxuICAgIGxvY2F0aW9uOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTExNjQ1LCAtMC4wODE0MjgpXHJcbiAgICB3ZWlnaHQ6IDJcclxuICB9XHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTIwODYsIC0wLjA4MDY4NylcclxuICAgIHdlaWdodDogNFxyXG4gIH1cclxuICB7XHJcbiAgICBsb2NhdGlvbjogbmV3IChnb29nbGUubWFwcy5MYXRMbmcpKDUxLjUxMjQ4MCwgLTAuMDc4OTA2KVxyXG4gICAgd2VpZ2h0OiAwLjhcclxuICB9XHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTMwNjAsIC0wLjA3ODM0OSlcclxuICAgIHdlaWdodDogMVxyXG4gIH1cclxuXVxyXG5cclxubG9jYXRpb25EYXRhMiA9IFtcclxuICB7XHJcbiAgICBsb2NhdGlvbjogbmV3IChnb29nbGUubWFwcy5MYXRMbmcpKDUxLjUxNDM2MiwgLTAuMDc5Njc2KVxyXG4gICAgd2VpZ2h0OiA4XHJcbiAgfVxyXG4gIHtcclxuICAgIGxvY2F0aW9uOiBuZXcgKGdvb2dsZS5tYXBzLkxhdExuZykoNTEuNTEzODk1LCAtMC4wNzk0NjIpXHJcbiAgICB3ZWlnaHQ6IDJcclxuICB9XHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTM4NDEsIC0wLjA3ODc3NSlcclxuICAgIHdlaWdodDogNFxyXG4gIH1cclxuICB7XHJcbiAgICBsb2NhdGlvbjogbmV3IChnb29nbGUubWFwcy5MYXRMbmcpKDUxLjUxMzU0NywgLTAuMDc3MzM3KVxyXG4gICAgd2VpZ2h0OiAwLjhcclxuICB9XHJcbiAge1xyXG4gICAgbG9jYXRpb246IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MTQwNjgsIC0wLjA3ODA2NylcclxuICAgIHdlaWdodDogMVxyXG4gIH1cclxuXVxyXG5cclxuXHJcblxyXG4jIEFwcGx5IGhlYXQgbWFwIHRvIG1hcFxyXG5wb2ludEFycmF5ID0gbmV3IChnb29nbGUubWFwcy5NVkNBcnJheSkobG9jYXRpb25EYXRhMSlcclxuaGVhdG1hcCA9IG5ldyAoZ29vZ2xlLm1hcHMudmlzdWFsaXphdGlvbi5IZWF0bWFwTGF5ZXIpKGRhdGE6IHBvaW50QXJyYXkpXHJcblxyXG5wb2ludEFycmF5MiA9IG5ldyAoZ29vZ2xlLm1hcHMuTVZDQXJyYXkpKGxvY2F0aW9uRGF0YTIpXHJcbmhlYXRtYXAyID0gbmV3IChnb29nbGUubWFwcy52aXN1YWxpemF0aW9uLkhlYXRtYXBMYXllcikoZGF0YTogcG9pbnRBcnJheTIpXHJcblxyXG4jU2V0IGdyYWRpZW50XHJcbmdyYWRpZW50ID0gW1xyXG4gICdyZ2JhKDAsIDI1NSwgMjU1LCAwKSdcclxuICAncmdiYSgwLCAyNTUsIDI1NSwgMSknXHJcbiAgJ3JnYmEoMCwgMTkxLCAyNTUsIDEpJ1xyXG4gICdyZ2JhKDAsIDEyNywgMjU1LCAxKSdcclxuICAncmdiYSgwLCA2MywgMjU1LCAxKSdcclxuICAncmdiYSgwLCAwLCAyNTUsIDEpJ1xyXG4gICdyZ2JhKDAsIDAsIDIyMywgMSknXHJcbiAgJ3JnYmEoMCwgMCwgMTkxLCAxKSdcclxuICAncmdiYSgwLCAwLCAxNTksIDEpJ1xyXG4gICdyZ2JhKDAsIDAsIDEyNywgMSknXHJcbiAgJ3JnYmEoNjMsIDAsIDkxLCAxKSdcclxuICAncmdiYSgxMjcsIDAsIDYzLCAxKSdcclxuICAncmdiYSgxOTEsIDAsIDMxLCAxKSdcclxuICAncmdiYSgyNTUsIDAsIDAsIDEpJ1xyXG5dXHJcbmhlYXRtYXAuc2V0ICdncmFkaWVudCcsIGdyYWRpZW50XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMucG9zaXRpdmVIZWF0bWFwID0gaGVhdG1hcFxyXG5tb2R1bGUuZXhwb3J0cy5uZWdhdGl2ZUhlYXRtYXAgPSBoZWF0bWFwMiIsIlxyXG5cclxuaW5pdGlhbGl6ZSA9IC0+XHJcblxyXG4gICMgSW5jbHVkZSBhbGwgbWFwIGNvbXBvbmVudHNcclxuICB0aGVtZU1vZHVsZSAgID0gcmVxdWlyZSgnLi4vbWFwL3RoZW1lLW1vZHVsZS5jb2ZmZWUnKVxyXG4gIG9wdGlvbnNNb2R1bGUgPSByZXF1aXJlKCcuLi9tYXAvb3B0aW9ucy1tb2R1bGUuY29mZmVlJylcclxuICBoZWF0bWFwTW9kdWxlID0gcmVxdWlyZSgnLi4vbWFwL2hlYXRtYXAtbW9kdWxlLmNvZmZlZScpXHJcbiAgc2VhcmNoTW9kdWxlICA9IHJlcXVpcmUoJy4uL21hcC9zZWFyY2gtbW9kdWxlLmNvZmZlZScpXHJcblxyXG4gICMgR2V0IHRoZSBtYXAsIGFuZCBzZXQgdGhlIG1hcCBvcHRpb25zXHJcbiAgbWFwID0gbmV3IChnb29nbGUubWFwcy5NYXApKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAtY2FudmFzJyksXFxcclxuICAgIG9wdGlvbnNNb2R1bGUubWFwT3B0aW9ucylcclxuXHJcbiAgIyBBcHBseSBtYXAgdGhlbWVcclxuICBtYXAubWFwVHlwZXMuc2V0ICdtYXBfc3R5bGUnLCB0aGVtZU1vZHVsZS5zdHlsZWRNYXBcclxuICBtYXAuc2V0TWFwVHlwZUlkICdtYXBfc3R5bGUnXHJcblxyXG4gICMgQXBwbHkgaGVhdCBtYXBcclxuICBoZWF0bWFwTW9kdWxlLnBvc2l0aXZlSGVhdG1hcC5zZXRNYXAgbWFwXHJcbiAgaGVhdG1hcE1vZHVsZS5uZWdhdGl2ZUhlYXRtYXAuc2V0TWFwIG1hcFxyXG5cclxuXHJcbiAgIyBQbGFjZXMgYXV0b2NvbXBsZXRlLCBhbmQgbWFwIHNlYXJjaFxyXG4gIHNlYXJjaE1vZHVsZS5pbml0aWF0ZVBsYWNlU2VhcmNoIG1hcFxyXG5cclxuICByZXR1cm5cclxuXHJcbmdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyIHdpbmRvdywgJ2xvYWQnLCBpbml0aWFsaXplXHJcblxyXG4iLCJtYXBPcHRpb25zID1cclxuICBjZW50ZXI6IG5ldyAoZ29vZ2xlLm1hcHMuTGF0TG5nKSg1MS41MDY4LCAtMC4xMjI1KVxyXG4gIHpvb206IDEzXHJcbiAgc3RyZWV0Vmlld0NvbnRyb2wgOiBmYWxzZVxyXG4gIHBhbkNvbnRyb2w6IGZhbHNlXHJcbiAgbWFwVHlwZUNvbnRyb2xPcHRpb25zOlxyXG4gICAgc3R5bGU6IGdvb2dsZS5tYXBzLk1hcFR5cGVDb250cm9sU3R5bGUuSE9SSVpPTlRBTF9CQVJcclxuICAgIHBvc2l0aW9uOiBnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uTEVGVF9UT1BcclxuICAgIG1hcFR5cGVJZHM6IFtcclxuICAgICAgJ21hcF9zdHlsZSdcclxuICAgICAgZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlNBVEVMTElURVxyXG4gICAgXVxyXG4gIHpvb21Db250cm9sT3B0aW9uczoge1xyXG4gICAgc3R5bGU6IGdvb2dsZS5tYXBzLlpvb21Db250cm9sU3R5bGUuTEFSR0VcclxuICAgIHBvc2l0aW9uOiBnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uTEVGVF9DRU5URVJcclxuICB9XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5tYXBPcHRpb25zID0gbWFwT3B0aW9ucyIsIlxyXG5pbml0aWF0ZVNlYXJjaCA9IChtYXApIC0+XHJcbiAgIyBDb25maWd1cmUgYXV0b2NvbXBsZXRlIGFuZCBtYXAgc2VhcmNoXHJcbiAgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHh0TG9jYXRpb24nKVxyXG4gIGF1dG9jb21wbGV0ZSA9IG5ldyAoZ29vZ2xlLm1hcHMucGxhY2VzLkF1dG9jb21wbGV0ZSkoaW5wdXQpXHJcbiAgaW5mb3dpbmRvdyA9IG5ldyAoZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdylcclxuXHJcbiAgIyBQcmVwYXJlIGZvciBwdXR0aW5nIG1hcmtlcnMgb24gbWFwXHJcbiAgbWFya2VyID0gbmV3IChnb29nbGUubWFwcy5NYXJrZXIpKFxyXG4gICAgbWFwOiBtYXBcclxuICAgIGFuY2hvclBvaW50OiBuZXcgKGdvb2dsZS5tYXBzLlBvaW50KSgwLCAtMjkpKVxyXG4gIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyIGF1dG9jb21wbGV0ZSwgJ3BsYWNlX2NoYW5nZWQnLCAtPlxyXG4gICAgaW5mb3dpbmRvdy5jbG9zZSgpXHJcbiAgICBtYXJrZXIuc2V0VmlzaWJsZSBmYWxzZVxyXG4gICAgcGxhY2UgPSBhdXRvY29tcGxldGUuZ2V0UGxhY2UoKVxyXG4gICAgaWYgIXBsYWNlLmdlb21ldHJ5XHJcbiAgICAgIHdpbmRvdy5hbGVydCAnQXV0b2NvbXBsZXRlXFwncyByZXR1cm5lZCBwbGFjZSBjb250YWlucyBubyBnZW9tZXRyeSdcclxuICAgICAgcmV0dXJuXHJcblxyXG4gICAgIyBJZiB0aGUgcGxhY2UgaGFzIGEgZ2VvbWV0cnksIHRoZW4gZGlzcGxheSBtYXJrZXIgb24gdGhlIG1hcC5cclxuICAgIGlmIHBsYWNlLmdlb21ldHJ5LnZpZXdwb3J0XHJcbiAgICAgIG1hcC5maXRCb3VuZHMgcGxhY2UuZ2VvbWV0cnkudmlld3BvcnRcclxuICAgIGVsc2VcclxuICAgICAgbWFwLnNldENlbnRlciBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvblxyXG4gICAgICBtYXAuc2V0Wm9vbSAxNyAjIFdoeSAxNz8gQmVjYXVzZSBpdCBsb29rcyBnb29kLlxyXG4gICAgbWFya2VyLnNldEljb25cclxuICAgICAgdXJsOiBwbGFjZS5pY29uXHJcbiAgICAgIHNpemU6IG5ldyAoZ29vZ2xlLm1hcHMuU2l6ZSkoNzEsIDcxKVxyXG4gICAgICBvcmlnaW46IG5ldyAoZ29vZ2xlLm1hcHMuUG9pbnQpKDAsIDApXHJcbiAgICAgIGFuY2hvcjogbmV3IChnb29nbGUubWFwcy5Qb2ludCkoMTcsIDM0KVxyXG4gICAgICBzY2FsZWRTaXplOiBuZXcgKGdvb2dsZS5tYXBzLlNpemUpKDM1LCAzNSlcclxuICAgIG1hcmtlci5zZXRQb3NpdGlvbiBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvblxyXG4gICAgbWFya2VyLnNldFZpc2libGUgdHJ1ZVxyXG4gICAgYWRkcmVzcyA9ICcnXHJcbiAgICBpZiBwbGFjZS5hZGRyZXNzX2NvbXBvbmVudHNcclxuICAgICAgYWRkcmVzc19wYXJ0cyA9IHBsYWNlLmFkZHJlc3NfY29tcG9uZW50c1xyXG4gICAgICBhZGRyZXNzID0gW1xyXG4gICAgICAgIGFkZHJlc3NfcGFydHNbMV0gYW5kIGFkZHJlc3NfcGFydHNbMV0uc2hvcnRfbmFtZSBvciAnJ1xyXG4gICAgICAgIGFkZHJlc3NfcGFydHNbMF0gYW5kIGFkZHJlc3NfcGFydHNbMF0uc2hvcnRfbmFtZSBvciAnJ1xyXG4gICAgICAgIGFkZHJlc3NfcGFydHNbMl0gYW5kIGFkZHJlc3NfcGFydHNbMl0uc2hvcnRfbmFtZSBvciAnJ1xyXG4gICAgICBdLmpvaW4oJyAnKVxyXG4gICAgaW5mb3dpbmRvdy5zZXRDb250ZW50IFwiPGRpdj48c3Ryb25nPiN7cGxhY2UubmFtZX08L3N0cm9uZz48YnI+XCIgKyBhZGRyZXNzXHJcbiAgICBpbmZvd2luZG93Lm9wZW4gbWFwLCBtYXJrZXJcclxuICAgIHJldHVyblxyXG5cclxubW9kdWxlLmV4cG9ydHMuaW5pdGlhdGVQbGFjZVNlYXJjaCA9IGluaXRpYXRlU2VhcmNoIiwiXHJcblxyXG4jIEFycmF5IG9mIHN0eWxlcy5cclxuc3R5bGVzID0gW1xyXG4gIHsgc3R5bGVyczogW1xyXG4gICAgeyBodWU6ICcjMDBmZmU2JyB9XHJcbiAgICB7IHNhdHVyYXRpb246IC0yMCB9XHJcbiAgXSB9XHJcbiAge1xyXG4gICAgZmVhdHVyZVR5cGU6ICdyb2FkJ1xyXG4gICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeSdcclxuICAgIHN0eWxlcnM6IFtcclxuICAgICAgeyBsaWdodG5lc3M6IDEwMCB9XHJcbiAgICAgIHsgdmlzaWJpbGl0eTogJ3NpbXBsaWZpZWQnIH1cclxuICAgIF1cclxuICB9XHJcbiAge1xyXG4gICAgZmVhdHVyZVR5cGU6ICdyb2FkJ1xyXG4gICAgZWxlbWVudFR5cGU6ICdsYWJlbHMnXHJcbiAgICBzdHlsZXJzOiBbIHsgdmlzaWJpbGl0eTogJ29mZicgfSBdXHJcbiAgfVxyXG5dXHJcblxyXG5tb2R1bGUuZXhwb3J0cy5zdHlsZWRNYXAgPSBuZXcgKGdvb2dsZS5tYXBzLlN0eWxlZE1hcFR5cGUpKHN0eWxlcywgbmFtZTogJ1NlbnRpbWVudCBNYXAnKSJdfQ==
